% notes on Brian's Python + Internet course

16 Jan 2010

At Tully's 4th & Union w/ Brian, Jon Poland, Peter Conerly, Gregg
Toth, new student: Tim Salazar.

Create dropbox account

firstname: Jonathan
lastname: Jacky
email: ...
pw: ...
Computer name: ...

2GB free
Typical setup

https://www.dropbox.com

Puts dropbox notification item on my toolbar, in lrc
So I click on it, it says starting, apparently hangs....

Creates C:\Users\jon\dropbox  with some files and folders

Ok, how do I get the files for the class? What's the folder?

Dropbox help at http://www.dropbox.com/help/16

Now what about setting up a github account, using svn

Github sort of supports svn, but it seems there are limitations.

Just set up github acct on their web page.

https://github.com/signup/free

Username jon-jacky
email ...
password ...

Created public profile

Dashboard is at https://github.com/, help at https://help.github.com/
Nothing about svn on help page.

I installed msysgit months ago - I have git bash shell icon on my toolbar, llc
Open it  - seems to be full-featured bash shell.

I have downloads\git with msysGit-netinstall...exe from 5/13/2010

Brian got me a VM at bluebox, see email today (16 Jan 2010)

username: ...
password: ...
hostname: ...

Use putty to connect, Tully's
Connect to Brian's portable wifi-over-cellphone, name giraffe, pw crazyawesome
Now I can connect to my vm.

Just got Brian's invite to dropbox, accept.

https://www.dropbox.com/home/uwpython#/week1:::28792857

Yes, now I also have C:\Users\jon\dropbox\uwpython\week1 etc.

Back to git ...  follow directions at http://help.github.com/msysgit-key-setup/

I have a ~/.ssh, known_hosts contains seattle.cs.washington.edu and
blackbox.cs.washington.edu

but nothing else - no id_rsa

I didn't select a passphrase, just hit return.

key name is tekkub@gmail.com

Get "successfully authenticated" message.

Okay, I guess I want dirs on VM for various projects, want github repo
to match dirs.   

Next, setting username etc: http://help.github.com/git-email-settings/

In the git bash shell:

jon@LOCKE ~
$ git config --global user.name "jon-jacky"

jon@LOCKE ~
$ git config --global user.email "jon@u.washington.edu"

On github create repository page: https://github.com/repositories/new

Project Name: internet-python

Description: 
Projects for the course, Internet Programming in Python, Winter 2011.

Homepage URL: (left blank)

Who has access? [X] Anyone


It creates repository

git@github.com:jon-jacky/internet-python-.git

What's with the hyphen '-' at the end?  I didn't type this in my repo name!
Argh, there was an extra space at the end. 

Okay, let's delete this and do it over: http://help.github.com/deleting-a-repo/

Yes, now it's: git@github.com:jon-jacky/internet-python.git

Note that there's an option to import an svn repo.

Now make local working directory, mostly following Next steps instructions,
but put it under jon/Documents

jon@LOCKE ~
$ cd Documents/

jon@LOCKE ~/Documents
$ mkdir internet-python

jon@LOCKE ~/Documents
$ cd internet-python

jon@LOCKE ~/Documents/internet-python
$ pwd
/c/Users/jon/Documents/internet-python

jon@LOCKE ~/Documents/internet-python
$ ls

jon@LOCKE ~/Documents/internet-python
$ ls -a
.  ..

jon@LOCKE ~/Documents/internet-python
$ git init
Initialized empty Git repository in c:/Users/jon/Documents/internet-python/.git/


jon@LOCKE ~/Documents/internet-python (master)
$ touch README

jon@LOCKE ~/Documents/internet-python (master)
$ ls
README

jon@LOCKE ~/Documents/internet-python (master)
$ ls -l
total 0
-rw-r--r--    1 jon      Administ        0 Jan 16 21:06 README

jon@LOCKE ~/Documents/internet-python (master)
$ git add README

jon@LOCKE ~/Documents/internet-python (master)
$ git commit -m "first commit: add internet-python/README"
[master (root-commit) 446ee96] first commit: add internet-python/README
 0 files changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 README

jon@LOCKE ~/Documents/internet-python (master)
$ git remote add origin git@github.com:jon-jacky/internet-python.git

jon@LOCKE ~/Documents/internet-python (master)
$ git push origin master
Counting objects: 3, done.
Writing objects: 100% (3/3), 235 bytes, done.
Total 3 (delta 0), reused 0 (delta 0)
To git@github.com:jon-jacky/internet-python.git
 * [new branch]      master -> master

Then click continue on the repository page.  It shows empty README.

Next: edit readme and commit again (or whatever). 

Then, check out repo on VM, Create socket-projects directory.  Begin
to populate it by just copying client and server from dropbox and
running them on VM.

Find tutorials Google: git version control tutorial

https://git.wiki.kernel.org/index.php/GitSvnCrashCourse
https://git.wiki.kernel.org/index.php/GitCheatSheet

This has links to several others, also summary right there on this page

http://help.github.com/git-cheat-sheets/


And man pages (each command linked here)

http://www.kernel.org/pub/software/scm/git/docs/

So, the basic idea is that the repository is *right there in your
working directory*, in .git - that's a whole (local) repository.  Then
you can create a repository elsewhere with git clone, then push to
another repository or pull from another repository.

git add, git commit etc. apply to the local repository, much like svn.
git clone, git push, git pull apply to another repository.

Look at the commands above - that 

git remote add origin
git push origin master

Oh, master is local repository, origin is upstream repository 

git push, git pull are push to/pull from origin

So, we should be able to edit README, commit, then push, and it should
show up on github.

(edit README)

$ git diff
(shows diffs in README)

$ git status
... modified README

jon@LOCKE ~/Documents/internet-python (master)
$ git commit -a -m "add some text to README"
[master 6466d18] add some text to README
 1 files changed, 1 insertions(+), 0 deletions(-)

jon@LOCKE ~/Documents/internet-python (master)
$ git status
# On branch master
nothing to commit (working directory clean)

Refresh github page, nothing new

jon@LOCKE ~/Documents/internet-python (master)
$ git push
Counting objects: 5, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 325 bytes, done.
Total 3 (delta 0), reused 0 (delta 0)
To git@github.com:jon-jacky/internet-python.git
   446ee96..6466d18  master -> master

Now github page shows revised README commit message and contents

(mkdir notes, cp internet.txt into notes)

$ git add notes

$ git status 

$ git commit -a -m "add notes ..."

(add more text)

jon@LOCKE ~/Documents/internet-python/notes (master)
$ git status
# On branch master
# Changed but not updated:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#       modified:   internet.txt
#
no changes added to commit (use "git add" and/or "git commit -a")

jon@LOCKE ~/Documents/internet-python/notes (master)
$ git commit -a -m "revise notes/internet.txt"
[master fc2cf83] revise notes/internet.txt
 1 files changed, 34 insertions(+), 0 deletions(-)

jon@LOCKE ~/Documents/internet-python/notes (master)
$ git push
Counting objects: 9, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (8/8), 3.22 KiB, done.
Total 8 (delta 1), reused 0 (delta 0)
To git@github.com:jon-jacky/internet-python.git
   6466d18..fc2cf83  master -> master

Now look on web page, yup it's there.

now mkdir sockets and copy dropbox files:

jon@LOCKE ~/Documents/internet-python/sockets (master)
$ cp ~/Dropbox/uwpython/week1/*.py .

jon@LOCKE ~/Documents/internet-python/sockets (master)
$ ls
week1_echo_client.py  week1_echo_server.py

Now add sockets directory

jon@LOCKE ~/Documents/internet-python (master)
$ git add sockets
warning: LF will be replaced by CRLF in sockets/week1_echo_client.py
warning: LF will be replaced by CRLF in sockets/week1_echo_server.py

Oh dear, well, let's commit.

jon@LOCKE ~/Documents/internet-python (master)
$ git commit -a -m "add sockets directory with echo client and server from drop
box"
[master d5e48a7] add sockets directory with echo client and server from dropbox
warning: LF will be replaced by CRLF in sockets/week1_echo_client.py
warning: LF will be replaced by CRLF in sockets/week1_echo_server.py
 3 files changed, 71 insertions(+), 0 deletions(-)
 create mode 100644 sockets/week1_echo_client.py
 create mode 100644 sockets/week1_echo_server.py

jon@LOCKE ~/Documents/internet-python (master)
$ git push
Counting objects: 10, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (7/7), 1.29 KiB, done.
Total 7 (delta 1), reused 0 (delta 0)
To git@github.com:jon-jacky/internet-python.git
   fc2cf83..d5e48a7  master -> master

Next, clone on vm, run server there, run client in local git master.

see if svn is running on vm, so we can do svn log pager there.
 

17 Jan 2011

Try week1_echo_client/server.py from dropbox on HP notebook as localhost.

Run server: windows firewall blocks, I have to unblock.
Run client, fails, 'request address is not valid...', host is ''

In client change host to 'localhost', ditto server.
Must close cmd window to kill server, it doesn't respond to ^C

Dropbox server version currently just responds "foobar", not with echo, fix.
Now it works as it should.  Commit and push.

C:\Users\jon\Documents\internet-python\sockets>git commit -a -m "week1_echo_clie
nt,server.py now working as intended, fix problems in dropbox versions"
warning: LF will be replaced by CRLF in sockets/week1_echo_client.py
warning: LF will be replaced by CRLF in sockets/week1_echo_server.py
[master warning: LF will be replaced by CRLF in sockets/week1_echo_client.py
warning: LF will be replaced by CRLF in sockets/week1_echo_server.py
f9ffb69] week1_echo_client,server.py now working as intended, fix problems in dr
opbox versions
warning: LF will be replaced by CRLF in sockets/week1_echo_client.py
warning: LF will be replaced by CRLF in sockets/week1_echo_server.py
 3 files changed, 20 insertions(+), 7 deletions(-)

C:\Users\jon\Documents\internet-python\sockets>git push
Counting objects: 13, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (7/7), 939 bytes, done.
Total 7 (delta 3), reused 0 (delta 0)
To git@github.com:jon-jacky/internet-python.git
   dac45d7..f9ffb69  master -> master

Again, this LF -> CRLF warning ...  Will that be a problem on VM?

Now log into VM, git clone, and run the echo server there.

putty jon@block115406-urm.blueboxgrid.com

Using username "jon".
jon@block115406-urm.blueboxgrid.com's password:
Linux block115406-urm.blueboxgrid.com 2.6.18-194.8.1.el5.028stab070.5 #1 SMP Fri Sep 17 19:10:36 MSD 2010 i686 GNU/Linux
Ubuntu 10.04.1 LTS

Welcome to Ubuntu!
 * Documentation:  https://help.ubuntu.com/

*** System restart required ***
Last login: Mon Jan 17 00:16:37 2011 from 184.234.233.107
jon@block115406-urm:~$ ls -a
. .. .bash_history (... etc. ...)

What's with "system restart" - ?

Right-click in top bar of window to get menu, 
in Settings -> appearance -> font, change from 10pt to 14pt.

Get pop-up notice: two files removed from dropbox.  They are they
week1_echo_client/server.py - !?   did I move them out rather than copy
them?  I'm pretty sure I copied them...  Oh, forget it, there is also 

https://github.com/briandorsey/uwpython_web/blob/master/week01/echo_client.py
etc.  - which looks right.

Ok, it looks like what I want to do on vm is:

 git clone https://github.com/jon-jacky/internet-python/ internet-python

There doesn't seem to be any way to cut from/paste to putty window.

Try it.  

fatal: https://github.com/jon-jacky/internet-python/info/refs not found: did you run git update-server-info on the server?

Should this be necessary to do git clone?  Oh, but maybe that's not
the right URL.  According to https://git.wiki.kernel.org/index.php/GitCheatSheet
I should be cloning the hole repository URL, ends with .git

$ git clone https://github.com/jon-jacky/internet-python.git
Initialized empty Git repository in /home/jon/internet-python/.git/
...
.., done.

Yes, now I have internet-python directory with expected contents.
Now echo server has localhost hard coded - open another putty window to 
vm.  Yes, it works.

Now on HP localhost, make sum_server and sum_client based on echo_...

Looked at http://groups.google.com/group/uwpython2010/topics?hl=en
lots of people are having difficulties with dropbox and git.

In local git, .../internet-python/sockets/ on HP, make sum_server,client.py
minimal versions based on echo sample with hardcoded localhost, port 50000,
numbers 1 2.  Works.

git commit, git push, on vm git pull.  They're there and they work.
Now make versions where host, port, numbers are cmd line args
also write progress messages to console from both client and server.
